{"version":3,"sources":["constants.js","dialog.js","telemetry.js","visuals.js","handler.js","index.js"],"names":["INITIAL","XSITEDATAHELLOMESSAGE","type","library","platform","version","Dialog","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","address","handleInput","bind","assertThisInitialized","handleSubmit","aEvent","setState","target","value","setConnection","title","connection","react_default","a","createElement","id","onChange","onClick","React","Component","Telemetry","updateTick","intervalID","setInterval","clearInterval","forceUpdate","colSpan","limitWarnings","left","right","upper","lower","forward","property","overload","Math","round","zeroLevel","height_from_zero","distance_to_zero","height_to_slope_from_zero","anglesEuler","boom","arm","bucket","anglesQuaternion","Visuals","emptyArray","boomSin","map","sin","PI","boomCos","cos","armSin","armCos","bucketSin","bucketCos","aAngle","aLength","x","floor","abs","y","aSinList","aCosList","reducer","accumulator","currentValue","s","reduce","c","atan2","toConsumableArray","shift","push","boomA","armA","bucketA","calculateA","armX","calculateX","armY","calculateY","bucketX","bucketY","document","getElementById","setAttribute","viewBox","preserveAspectRatio","xmlns","xmlnsXlink","transform","d","Handler","websocket","handleOpen","handleClose","handleMessage","aQuart","sinr_cosp","w","z","cosr_cosp","roll","aMsg","jsonMsg","JSON","parse","hasOwnProperty","jsonState","angles","main_boom","digging_arm","quaternions","convertAngle","main_boom_orientation","digging_arm_orientation","bucket_orientation","sendMessage","stringify","timestamp","err","alert","console","log","telemetry","visuals","_this2","Fragment","build_default","url","onMessage","onOpen","onClose","reconnect","debug","ref","aSocket","renderPage","Root","aConnection","aAddress","handler","dialog","ReactDOM","render","src_Root"],"mappings":"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","file":"static/js/main.279ee7e5.chunk.js","sourcesContent":["export const INITIAL = 'INITIAL';\r\nexport const CONNECTING = 'CONNECTING';\r\nexport const CONNECTED = 'CONNECTED';\r\nexport const NOTFOUND = 'NOTFOUND';\r\nexport const DISCONNECTED = 'DISCONNECTED';\r\n\r\nexport const XSITEDATAHELLOMESSAGE = {\r\n    type: \"HELLO\",\r\n    library: \"Browser\",\r\n    platform: 'React',\r\n    version: \"0.1-alpha\"\r\n};","import React from 'react';\r\nimport {CONNECTING, NOTFOUND, DISCONNECTED} from './constants';\r\n\r\nclass Dialog extends React.Component\r\n{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {'address': this.props.address};\r\n        this.handleInput = this.handleInput.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleInput(aEvent) {\r\n        this.setState({'address': aEvent.target.value});\r\n    }\r\n\r\n    handleSubmit() {\r\n        this.props.setConnection(CONNECTING, this.state.address);\r\n    }\r\n\r\n    render() {\r\n        let title = 'Syötä palvelimen osoite';\r\n\r\n        if (this.props.connection === NOTFOUND) {\r\n            title = 'Yhteyttä ei saatu avattua, tarkista osoite';\r\n        }\r\n\r\n        if (this.props.connection === DISCONNECTED) {\r\n            title = 'Yhteys katkesi';\r\n        }\r\n\r\n        return (\r\n            <div id='dialog'>\r\n                <h1>{title}</h1>\r\n                <input type=\"text\" value={this.state.address} onChange={this.handleInput} />\r\n                <button onClick={this.handleSubmit}>Yhdistä</button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Dialog;","import React from 'react';\r\n\r\nclass Telemetry extends React.Component\r\n{\r\n    constructor(props) {\r\n        super(props);\r\n        this.updateTick = this.updateTick.bind(this);\r\n    }\r\n\r\n    shouldComponentUpdate() {\r\n        // Prevent re-renders, updateTick will force updates\r\n        return false;\r\n    }\r\n\r\n    componentDidMount() {\r\n        let intervalID = setInterval(this.updateTick, 50);\r\n        this.setState({'intervalID': intervalID});\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.state.intervalID);\r\n    }\r\n\r\n    updateTick() {\r\n        this.forceUpdate();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id='telemetry'>\r\n                <table>\r\n                    <tbody>\r\n                        <tr><th colSpan='2'>Limit warnings:</th></tr>\r\n                        <tr><td>Left:</td><td>{this.props.limitWarnings.left ? 'true' : 'false'}</td></tr>\r\n                        <tr><td>Right</td><td>{this.props.limitWarnings.right ? 'true' : 'false'}</td></tr>\r\n                        <tr><td>Upper:</td><td>{this.props.limitWarnings.upper ? 'true' : 'false'}</td></tr>\r\n                        <tr><td>Lower:</td><td>{this.props.limitWarnings.lower ? 'true' : 'false'}</td></tr>\r\n                        <tr><td>Forward:</td><td>{this.props.limitWarnings.forward ? 'true' : 'false'}</td></tr>\r\n                        <tr><td>Property:</td><td>{this.props.limitWarnings.property ? 'true' : 'false'}</td></tr>\r\n                        <tr><td>Overload:</td><td>{this.props.limitWarnings.overload ? 'true' : 'false'}</td></tr>\r\n                    </tbody>\r\n                </table>\r\n\r\n                <table>\r\n                    <tbody>\r\n\r\n                        <tr><th colSpan='2'>Zero level:</th></tr>\r\n                        <tr><td>Height from zero:</td><td>{Math.round(this.props.zeroLevel.height_from_zero * 100) / 100}</td></tr>\r\n                        <tr><td>Distance to zero:</td><td>{Math.round(this.props.zeroLevel.distance_to_zero * 100) / 100}</td></tr>\r\n                        <tr><td>Height to slope from zero:</td><td>{Math.round(this.props.zeroLevel.height_to_slope_from_zero * 100) / 100}</td></tr>\r\n                    </tbody>\r\n                </table>\r\n\r\n                <table>\r\n                    <tbody>\r\n\r\n                        <tr><th colSpan='2'>Euler angles:</th></tr>\r\n                        <tr><td>Main boom:</td><td>{this.props.anglesEuler.boom}</td></tr>\r\n                        <tr><td>Digging arm:</td><td>{this.props.anglesEuler.arm}</td></tr>\r\n                        <tr><td>Bucket:</td><td>{this.props.anglesEuler.bucket}</td></tr>\r\n                        </tbody>\r\n                </table>\r\n\r\n                <table>\r\n                    <tbody>\r\n                        <tr><th colSpan='2'>Quaternion angles:</th></tr>\r\n                        <tr><td>Main boom:</td><td>{this.props.anglesQuaternion.boom}</td></tr>\r\n                        <tr><td>Digging arm:</td><td>{this.props.anglesQuaternion.arm}</td></tr>\r\n                        <tr><td>Bucket:</td><td>{this.props.anglesQuaternion.bucket}</td></tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Telemetry;","import React from 'react';\r\n\r\nclass Visuals extends React.Component\r\n{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let emptyArray = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n\r\n        this.state = {\r\n            'boomSin': emptyArray.map(() => Math.sin(40 * ( Math.PI / 180))),\r\n            'boomCos': emptyArray.map(() => Math.cos(40 * ( Math.PI / 180))),\r\n            'armSin': emptyArray.map(() => Math.sin(-60 * ( Math.PI / 180))),\r\n            'armCos': emptyArray.map(() => Math.cos(-60 * ( Math.PI / 180))),\r\n            'bucketSin': emptyArray.map(() => Math.sin(-150 * ( Math.PI / 180))),\r\n            'bucketCos': emptyArray.map(() => Math.cos(-150 * ( Math.PI / 180)))\r\n        };\r\n\r\n        this.updateTick = this.updateTick.bind(this);\r\n    }\r\n\r\n    calculateX(aAngle, aLength) {\r\n        let x = Math.floor(Math.abs(Math.cos(aAngle * ( Math.PI / 180)) * aLength))\r\n\r\n        if (-90 <= aAngle && aAngle <= 90) {\r\n            x = x * -1;\r\n        }\r\n\r\n        return x;\r\n    }\r\n\r\n    calculateY(aAngle, aLength) {\r\n        let y = Math.floor(Math.abs(Math.sin(aAngle * ( Math.PI / 180)) * aLength))\r\n    \r\n        if (0 <= aAngle && aAngle <= 180) {\r\n            y = y * -1;\r\n        }\r\n\r\n        return y;\r\n    }\r\n\r\n    calculateA(aSinList, aCosList) {\r\n        const reducer = (accumulator, currentValue) => { return accumulator + currentValue; };\r\n\r\n        let s = aSinList.reduce(reducer);\r\n        let c = aCosList.reduce(reducer);\r\n        let a = Math.atan2(s, c)\r\n    \r\n        return Math.round((a * 180 / Math.PI) * 10) / 10;\r\n    }\r\n\r\n    shouldComponentUpdate() {\r\n        // Prevent re-renders, updateTick will handle svg updates\r\n        return false;\r\n    }\r\n\r\n    componentDidMount() {\r\n        let intervalID = setInterval(this.updateTick, 50);\r\n        this.setState({'intervalID': intervalID});\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.state.intervalID);\r\n    }\r\n\r\n    updateTick() {\r\n        let boomSin = [...this.state.boomSin];\r\n            boomSin.shift();\r\n            boomSin.push(Math.sin(this.props.boomA * ( Math.PI / 180)));\r\n\r\n        let boomCos = [...this.state.boomCos];\r\n            boomCos.shift();\r\n            boomCos.push(Math.cos(this.props.boomA * ( Math.PI / 180)));\r\n\r\n        let armSin = [...this.state.armSin];\r\n            armSin.shift();\r\n            armSin.push(Math.sin(this.props.armA * ( Math.PI / 180)));\r\n\r\n        let armCos = [...this.state.armCos];\r\n            armCos.shift();\r\n            armCos.push(Math.cos(this.props.armA * ( Math.PI / 180)));\r\n\r\n        let bucketSin = [...this.state.bucketSin];\r\n            bucketSin.shift();\r\n            bucketSin.push(Math.sin(this.props.bucketA * ( Math.PI / 180)));\r\n\r\n        let bucketCos = [...this.state.bucketCos];\r\n            bucketCos.shift();\r\n            bucketCos.push(Math.cos(this.props.bucketA * ( Math.PI / 180)));\r\n\r\n        this.setState({\r\n            'boomSin': boomSin,\r\n            'boomCos': boomCos,\r\n            'armSin': armSin,\r\n            'armCos': armCos,\r\n            'bucketSin': bucketSin,\r\n            'bucketCos': bucketCos\r\n        });\r\n\r\n        let boomA = this.calculateA(this.state.boomSin, this.state.boomCos);\r\n        let boomX = 900;\r\n        let boomY = 900;\r\n    \r\n        let armA = this.calculateA(this.state.armSin, this.state.armCos);\r\n        let armX = boomX + this.calculateX(boomA, 385);\r\n        let armY = boomY + this.calculateY(boomA, 385);\r\n    \r\n        let bucketA = this.calculateA(this.state.bucketSin, this.state.bucketCos);\r\n        let bucketX = armX + this.calculateX(armA, 176);\r\n        let bucketY = armY + this.calculateY(armA, 176);\r\n\r\n        document.getElementById('SVGBoom').setAttribute('transform', 'translate(' + (boomX - 500) + ' ' + (boomY - 500) + ') rotate(' + boomA + ' 500 500)');\r\n        document.getElementById('SVGArm').setAttribute('transform', 'translate(' + (armX - 500) + ' ' + (armY - 500) + ') rotate(' + armA + ' 500 500)');\r\n        document.getElementById('SVGBucket').setAttribute('transform', 'translate(' + (bucketX - 500) + ' ' + (bucketY - 500) + ') rotate(' + bucketA + ' 500 500)');\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id='visuals'>\r\n                <svg\r\n                    viewBox = '0 0 1000 1000'\r\n                    preserveAspectRatio = 'xMinYMin meet'\r\n                    xmlns = 'http://www.w3.org/2000/svg'\r\n                    xmlnsXlink = 'http://www.w3.org/1999/xlink'>\r\n\r\n                    <g transform = 'scale(1.2) translate(-200 -200)'>\r\n                        <path\r\n                            id = 'SVGBoom'\r\n                            d = 'M 112.06,494.03\r\n                                C 103.19,500.92 112.00,509.11 117.94,505.97\r\n                                124.83,502.34 121.78,491.03 112.06,494.03 Z\r\n                                M 497.06,494.03\r\n                                C 488.19,500.92 497.00,509.11 502.94,505.97\r\n                                509.83,502.34 506.78,491.03 497.06,494.03 Z\r\n                                M 489.09,540.64\r\n                                C 464.07,530.87 359.66,490.66 334.33,480.33\r\n                                318.73,474.36 310.36,474.18 297.33,477.67\r\n                                277.33,483.39 144.78,520.45 119.91,526.82\r\n                                104.64,529.00 92.18,519.36 88.91,507.00\r\n                                86.18,494.91 90.55,481.45 104.27,475.27\r\n                                119.54,469.05 252.88,412.90 300.64,392.45\r\n                                319.18,384.27 336.82,385.36 352.52,392.57\r\n                                402.57,415.75 497.60,453.01 518.64,462.27\r\n                                536.18,470.09 548.09,494.36 539.00,516.67\r\n                                530.82,535.55 509.00,546.91 489.09,540.64 Z' />\r\n\r\n                        <path\r\n                            id = 'SVGArm'\r\n                            d = 'M 321.45,518.18\r\n                                C 333.98,519.14 486.24,526.30 498.17,527.00\r\n                                511.56,527.44 517.50,521.62 521.43,516.74\r\n                                528.87,507.22 561.57,463.31 568.55,454.00\r\n                                574.75,444.81 567.50,431.50 552.00,435.09\r\n                                528.91,439.98 346.42,476.83 324.00,481.27\r\n                                312.39,483.96 306.00,488.43 305.75,500.00\r\n                                305.83,509.30 311.35,516.70 321.45,518.18 Z\r\n                                M 321.06,494.03\r\n                                C 312.19,500.92 321.00,509.11 326.94,505.97\r\n                                333.83,502.34 330.78,491.03 321.06,494.03 Z\r\n                                M 497.06,494.03\r\n                                C 488.19,500.92 497.00,509.11 502.94,505.97\r\n                                509.83,502.34 506.78,491.03 497.06,494.03 Z' />\r\n\r\n                        <path\r\n                            id = 'SVGBucket'\r\n                            d = 'M 515.25,485.38\r\n                                C 523.50,457.25 512.88,426.75 485.00,412.38\r\n                                443.25,393.25 412.38,413.88 398.75,437.88\r\n                                392.44,448.49 369.89,488.81 367.00,494.00\r\n                                362.69,501.59 367.41,500.66 371.75,497.50\r\n                                379.26,491.89 387.17,486.42 395.88,480.62\r\n                                415.79,487.00 464.94,502.43 480.17,507.48\r\n                                482.09,515.22 491.09,521.30 500.00,521.57\r\n                                512.78,521.39 518.87,512.39 520.91,505.04\r\n                                522.70,497.43 520.09,489.09 515.25,485.38 Z\r\n                                M 497.06,494.03\r\n                                C 488.19,500.92 497.00,509.11 502.94,505.97\r\n                                509.83,502.34 506.78,491.03 497.06,494.03 Z' />\r\n                    </g>\r\n                </svg>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Visuals;","import React from 'react';\r\nimport Websocket from 'react-websocket';\r\nimport Telemetry from './telemetry';\r\nimport Visuals from './visuals';\r\nimport {CONNECTED, DISCONNECTED, XSITEDATAHELLOMESSAGE} from './constants';\r\n\r\nclass Handler extends React.Component\r\n{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            'limitWarnings': {\r\n                'left': false,\r\n                'right': false,\r\n                'upper': false,\r\n                'lower': false,\r\n                'forward': false,\r\n                'property': false,\r\n                'overload': false},\r\n            'zeroLevel': {\r\n                'height_from_zero': 0.0,\r\n                'distance_to_zero': 0.0,\r\n                'height_to_slope_from_zero': 0.0},\r\n            'anglesEuler': {\r\n                'boom': 0.0,\r\n                'arm': 0.0,\r\n                'bucket': 0.0},\r\n            'anglesQuaternion': {\r\n                'boom': 0.0,\r\n                'arm': 0.0,\r\n                'bucket': 0.0}\r\n        };\r\n\r\n        this.websocket = null;\r\n        this.handleOpen = this.handleOpen.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleMessage = this.handleMessage.bind(this);\r\n    }\r\n\r\n    convertAngle(aQuart) {\r\n        let sinr_cosp = +2.0 * (aQuart.w * aQuart.x + aQuart.y * aQuart.z)\r\n        let cosr_cosp = +1.0 - 2.0 * (aQuart.x * aQuart.x + aQuart.y * aQuart.y)\r\n        let roll = Math.atan2(sinr_cosp, cosr_cosp)\r\n\r\n        return Math.round( roll * (180 / Math.PI) * 10 ) / 10;\r\n    }\r\n\r\n    handleMessage(aMsg) {\r\n        try {\r\n             let jsonMsg = JSON.parse(aMsg);\r\n\r\n            if (jsonMsg.hasOwnProperty('state')) {\r\n                let jsonState = jsonMsg.state;\r\n\r\n                if (jsonState.hasOwnProperty('limitWarnings')) {\r\n                    this.setState({'limitWarnings': {\r\n                        'left': jsonState.limitWarnings.hasOwnProperty('left') ? jsonState.limitWarnings.left : this.state.limitWarnings.left,\r\n                        'right': jsonState.limitWarnings.hasOwnProperty('right') ? jsonState.limitWarnings.right : this.state.limitWarnings.right,\r\n                        'upper': jsonState.limitWarnings.hasOwnProperty('upper') ? jsonState.limitWarnings.upper : this.state.limitWarnings.upper,\r\n                        'lower': jsonState.limitWarnings.hasOwnProperty('lower') ? jsonState.limitWarnings.lower : this.state.limitWarnings.lower,\r\n                        'forward': jsonState.limitWarnings.hasOwnProperty('forward') ? jsonState.limitWarnings.forward : this.state.limitWarnings.forward,\r\n                        'property': jsonState.limitWarnings.hasOwnProperty('property') ? jsonState.limitWarnings.property : this.state.limitWarnings.property,\r\n                        'overload': jsonState.limitWarnings.hasOwnProperty('overload') ? jsonState.limitWarnings.overload : this.state.limitWarnings.overload\r\n                    }});\r\n                }\r\n\r\n                if (jsonState.hasOwnProperty('zeroLevel')) {\r\n                    this.setState({'zeroLevel': {\r\n                        'height_from_zero': jsonState.zeroLevel.hasOwnProperty('height_from_zero') ? jsonState.zeroLevel.height_from_zero : this.state.zeroLevel.height_from_zero,\r\n                        'distance_to_zero': jsonState.zeroLevel.hasOwnProperty('distance_to_zero') ? jsonState.zeroLevel.distance_to_zero : this.state.zeroLevel.distance_to_zero,\r\n                        'height_to_slope_from_zero': jsonState.zeroLevel.hasOwnProperty('height_to_slope_from_zero') ? jsonState.zeroLevel.height_to_slope_from_zero : this.state.zeroLevel.height_to_slope_from_zero\r\n                    }});\r\n                }\r\n\r\n                if (jsonState.hasOwnProperty('angles')) {\r\n                    this.setState({'anglesEuler': {\r\n                        'boom': jsonState.angles.hasOwnProperty('main_boom') ? jsonState.angles.main_boom / 10 : this.state.anglesEuler.boom,\r\n                        'arm': jsonState.angles.hasOwnProperty('digging_arm') ? jsonState.angles.digging_arm / 10 : this.state.anglesEuler.arm,\r\n                        'bucket': jsonState.angles.hasOwnProperty('bucket') ? jsonState.angles.bucket / 10 : this.state.anglesEuler.bucket\r\n                    }});\r\n                }\r\n\r\n                if (jsonState.hasOwnProperty('quaternions')) {\r\n                    this.setState({'anglesQuaternion': {\r\n                        'boom': jsonState.quaternions.hasOwnProperty('main_boom_orientation') ? this.convertAngle(jsonState.quaternions.main_boom_orientation) : this.state.anglesQuaternion.boom,\r\n                        'arm': jsonState.quaternions.hasOwnProperty('digging_arm_orientation') ? this.convertAngle(jsonState.quaternions.digging_arm_orientation) : this.state.anglesQuaternion.arm,\r\n                        'bucket': jsonState.quaternions.hasOwnProperty('bucket_orientation') ? this.convertAngle(jsonState.quaternions.bucket_orientation) : this.state.anglesQuaternion.bucket\r\n                    }});\r\n                }\r\n            };\r\n\r\n            // Confirm message received\r\n            this.websocket.sendMessage(JSON.stringify({'type': 'CONFIRM', 'id': jsonMsg.id, 'timestamp': jsonMsg.timestamp}));\r\n        }\r\n        catch(err) {\r\n            alert(err);\r\n        }\r\n    }\r\n\r\n    handleOpen() {\r\n        console.log('Websocket open');\r\n        this.props.setConnection(CONNECTED);\r\n        this.websocket.sendMessage(JSON.stringify(XSITEDATAHELLOMESSAGE));\r\n    }\r\n\r\n    handleClose() {\r\n        console.log('Websocket close');\r\n        this.props.setConnection(DISCONNECTED);\r\n    }\r\n\r\n    renderPage() {\r\n        if (this.props.connection === CONNECTED) {\r\n            return (\r\n                <div id='wrapper'>\r\n                    <div id='header'>\r\n                        <h1>Yhdistetty osoitteeseen {this.props.address}</h1>\r\n                    </div>\r\n                    <div id='container'>\r\n                        <Telemetry\r\n                            limitWarnings = {this.state.limitWarnings}\r\n                            zeroLevel = {this.state.zeroLevel}\r\n                            anglesEuler = {this.state.anglesEuler}\r\n                            anglesQuaternion = {this.state.anglesQuaternion} />\r\n                        <Visuals\r\n                            boomA = {this.state.anglesQuaternion.boom}\r\n                            armA = {this.state.anglesQuaternion.arm}\r\n                            bucketA = {this.state.anglesQuaternion.bucket} />\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            return (\r\n                <div id='dialog'>\r\n                    <h1>Yhdistetään...</h1>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <Websocket\r\n                    url = {'ws://' + this.props.address + ':9000'}\r\n                    onMessage = {this.handleMessage}\r\n                    onOpen = {this.handleOpen}\r\n                    onClose = {this.handleClose}\r\n                    reconnect = {false}\r\n                    debug = {true}\r\n                    ref = {(aSocket) => { this.websocket = aSocket; }} />\r\n                {this.renderPage()}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Handler;\r\n\r\n/*\r\n        {\r\n            \"id\": 69,\r\n            \"state\": {\r\n                \"limitWarnings\": {\r\n                    \"left\": false, \r\n                    \"right\": false, \r\n                    \"upper\": false, \r\n                    \"lower\": false, \r\n                    \"forward\": false, \r\n                    \"property\": false, \r\n                    \"overload\": false\r\n                }, \r\n                \"zeroLevel\": {\r\n                    \"height_from_zero\": 3.360196113586426, \r\n                    \"distance_to_zero\": 3.360196113586426, \r\n                    \"height_to_slope_from_zero\": 5.132124900817871\r\n                }, \r\n                \"angles\": {\r\n                    \"frame_pitch\": 0, \r\n                    \"frame_roll\": 4, \r\n                    \"main_boom\": 564, \r\n                    \"digging_arm\": -314, \r\n                    \"bucket\": -502, \r\n                    \"heading\": 0\r\n                }, \r\n                \"quaternions\": {\r\n                    \"frame_orientation\": {\r\n                        \"w\": 1.00006103515625, \r\n                        \"x\": 0.0001220703125, \r\n                        \"y\": 0.00347900390625, \r\n                        \"z\": 0.0\r\n                    }, \r\n                    \"main_boom_orientation\": {\r\n                        \"w\": 0.8818359375, \r\n                        \"x\": 0.47174072265625, \r\n                        \"y\": 0.00225830078125, \r\n                        \"z\": -0.001220703125\r\n                    }, \r\n                    \"digging_arm_orientation\": {\r\n                        \"w\": 0.976318359375, \r\n                        \"x\": 0.21661376953125, \r\n                        \"y\": 0.001953125, \r\n                        \"z\": -0.00042724609375\r\n                    }, \r\n                    \"bucket_orientation\": {\r\n                        \"w\": 0.97381591796875, \r\n                        \"x\": -0.2271728515625, \r\n                        \"y\": -0.01495361328125, \r\n                        \"z\": -0.00347900390625\r\n                    }\r\n                }, \r\n                \"slope\": 0\r\n            }, \r\n            \"timestamp\": \"2019-04-20T22:20:37.650616\", \r\n            \"latency\": 0, \r\n            \"tickRate\": 200.0\r\n        }\r\n*/","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Dialog from './dialog';\r\nimport Handler from './handler';\r\nimport {INITIAL, CONNECTING, CONNECTED, NOTFOUND, DISCONNECTED} from './constants';\r\nimport './index.css';\r\n\r\nclass Root extends React.Component\r\n{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            'connection': INITIAL,\r\n            'address': '10.0.0.184'\r\n        };\r\n\r\n        this.setConnection = this.setConnection.bind(this);\r\n    }\r\n\r\n    setConnection(aConnection, aAddress) {\r\n        switch (aConnection) {\r\n            case DISCONNECTED:\r\n                if (this.state.connection === CONNECTING) {\r\n                    this.setState({'connection': NOTFOUND});\r\n                }\r\n                else {\r\n                    this.setState({'connection': DISCONNECTED});\r\n                }\r\n                break;\r\n\r\n            case CONNECTING:\r\n                this.setState({'connection': CONNECTING, 'address': aAddress});\r\n                break;\r\n\r\n            default:\r\n                this.setState({'connection': aConnection});\r\n                break;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.state.connection === CONNECTING || this.state.connection === CONNECTED) {\r\n            return <Handler setConnection={this.setConnection} connection={this.state.connection} address={this.state.address} />\r\n        }\r\n        else {\r\n            return <Dialog setConnection={this.setConnection} connection={this.state.connection} address={this.state.address} />\r\n        }\r\n    }\r\n}\r\n\r\nReactDOM.render(<Root />, document.getElementById('root'));"],"sourceRoot":""}